include "linux"

// Using the https://en.wikipedia.org/wiki/Linear_congruential_generator algorithm

memory lcg_mod sizeof(int) end
const LCG_MULTIPLIER 6364136223846793005 end
const LCG_INCREMENT  1442695040888963407 end

proc lcg -> int do
  lcg_mod read64
  LCG_MULTIPLIER mul LCG_INCREMENT add
  dup lcg_init
end

inline proc lcg_init :: int do
  lcg_mod write64
end

// TODO: Add more algorithms and random-related functions
